
| id      | Title | Status | Author | Description | Discussions to | Created |
| ----------- | ----------- | ----------- | ----------- | ----------- | ----------- | ----------- |
| TIP-226 | Frontrunning protection through cancellation | Draft | KirilA |  Implementing feature to prevent frontrunning | https://discord.gg/thales | 2024-09-20

## Simple Summary

This TIP enables feature on the Thales protocol to prevent frontrunning or regular positions on invalid odds. 

## Abstract

This TIP adds a feature that would allow pDAO to prevent frontrunning or betting with invalid odds. In case users have already bet on invalid odds, the pDAO is able to react and cancel tickets before the LPs are irreversible drained with invalid odds.

## Motivation  

The existing system does not allow any mitigation of tickets created with invalid odds. The Overtime V2 markets offering is increasing each day. More games, leagues and market types are offered, making the whole system more complex and harder to monitor. Sharp odds are crucial for fair betting for both users and LPs. Some of the market types and games may experience delayed response from bookmakers which exposes the LPs for users to take advantage of invalid odds. By adding this feature, pDAO can validate inconsistencies and revert the bets by cancelling the tickets without harming both the users and the LP providers. 

## Specification 

The Overtime system is updated with allowance for pDAO to cancel tickets at any time before they are claimed (in case of winnings).  
The ticket is cancelled which means the user gets the fully invested amount back, while the LPs are safe from being drained with invalid odds.

## Implementation

- Adding `cancelTicket` method in Tickets
- Enabling canceling ticket through main SportsAMMV2 using pDAO

## Copyright
 
Copyright and related rights waived via CC0.
